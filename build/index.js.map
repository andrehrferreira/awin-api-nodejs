{"version":3,"sources":["../src/index.js"],"names":["awinaffid","acessToken","programs","params","countryCode","axios","get","querystring","encode","then","response","data","err","message","deeplink","link","awinmid","Promise","resolve","reject","encodeURIComponent"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;eAEe,kBAACA,SAAD,EAAYC,UAAZ,EAA2B;AACtC,SAAO;AACHC,IAAAA,QADG,sBACuC;AAAA,UAAhCC,MAAgC,uEAAvB;AAAEC,QAAAA,WAAW,EAAE;AAAf,OAAuB;AACtC,aAAOC,kBACFC,GADE,2CACqCN,SADrC,qCACyEC,UADzE,cACuFM,wBAAYC,MAAZ,CAAmBL,MAAnB,CADvF,GAEFM,IAFE,CAEG,UAAAC,QAAQ,EAAI;AACd,eAAOA,QAAQ,CAACC,IAAhB;AACH,OAJE,WAKI,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,OAAR;AAAA,OALP,CAAP;AAMH,KARE;AASHC,IAAAA,QATG,oBASOC,IATP,EASaC,OATb,EASsB;AACrB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAIJ,IAAI,IAAIf,SAAZ,EAAuB;AACnBkB,UAAAA,OAAO,mDAA4CF,OAA5C,wBAAiEhB,SAAjE,kBAAkFoB,kBAAkB,CAACL,IAAD,CAApG,EAAP;AACH,SAFD,MAEO;AACHI,UAAAA,MAAM,CAAC,yBAAD,CAAN;AACH;AACJ,OANM,CAAP;AAOH;AAjBE,GAAP;AAmBH,C","sourcesContent":["import \"@babel/polyfill/noConflict\";\nimport axios from \"axios\";\nimport querystring from \"querystring\"\n\nexport default (awinaffid, acessToken) => {\n    return {\n        programs (params = { countryCode: \"BR\" }) {\n            return axios\n                .get(`https://api.awin.com/publishers/${awinaffid}/programmes?accessToken=${acessToken}&${querystring.encode(params)}`)\n                .then(response => {\n                    return response.data;\n                })\n                .catch(err => err.message);\n        },\n        deeplink (link, awinmid) {\n            return new Promise((resolve, reject) => {\n                if (link && awinaffid) {\n                    resolve(`https://www.awin1.com/cread.php?awinmid=${awinmid}&awinaffid=${awinaffid}&ued=${encodeURIComponent(link)}`);\n                } else {\n                    reject('Missing link or awinmid');\n                }\n            })\n        }\n    }\n};\n"],"file":"index.js"}